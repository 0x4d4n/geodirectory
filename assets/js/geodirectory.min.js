function geodir_init_lazy_load(){jQuery(".geodir-lazy-load").gdunveil(100,function(){this.style.opacity=1},"#geodir_content"),jQuery("#gd-tabs").click(function(){setTimeout(function(){jQuery(window).trigger("lookup")},100)}),jQuery(document).ready(function(){setTimeout(function(){jQuery(window).trigger("lookup")},100)})}function autofill_click(e){var t=jQuery(e).html();jQuery(e).closest("div.gd-autofill-dl").closest("div.gd-autofill").find("input[type=text]").val(t),jQuery(e).closest(".gd-autofill-dl").remove()}function geodir_get_post_term(e){limit=jQuery(e).data("limit"),term=jQuery(e).val();var t=parseInt(jQuery(e).data("parent"))>0?1:0;jQuery(e).parent().parent().find(".geodir-popular-cat-list").html('<i class="fas fa-cog fa-spin" aria-hidden="true"></i>'),jQuery(e).parent().parent().parent().find(".geodir-cat-list-more").hide(),jQuery.post(geodir_params.ajax_url+"?action=geodir_ajax_action",{ajax_action:"geodir_get_term_list",term:term,limit:limit,parent_only:t}).done(function(t){""!=jQuery.trim(t)&&(jQuery(e).parent().parent().find(".geodir-popular-cat-list").hide().html(t).fadeIn("slow"),jQuery(e).parent().parent().find(".geodir-popular-cat-list li").length>limit&&jQuery(e).parent().parent().parent().find(".geodir-cat-list-more").fadeIn("slow"))})}function geodir_resize_rating_stars(e){jQuery(".geodir-rating").each(function(){var t=jQuery(this);if(!t.width())return!0;var r=t.find(".geodir_Star img").width()*t.find(".geodir_Star img").length;r=void 0!==e&&e?"auto":r,t.width(r)})}function geodir_load_search_form(e,t){var r=jQuery(t).closest(".geodir-search-container").attr("data-show-adv");jQuery.ajax({url:geodir_params.ajax_url,type:"POST",dataType:"html",data:{action:"geodir_search_form",stype:e,adv:r},beforeSend:function(){geodir_search_wait(1)},success:function(e,r,i){jQuery(t).closest(".geodir-search-container").html(e),geodir_setup_search_form(),jQuery("body").trigger("geodir_setup_search_form"),geodir_search_wait(0)},error:function(e,t,r){console.log(t),geodir_search_wait(0)}})}function geodir_setup_search_form(){jQuery(".search_by_post").val()?gd_s_post_type=jQuery(".search_by_post").val():gd_s_post_type="gd_place",setTimeout(function(){jQuery(".search_by_post").change(function(){gd_s_post_type=jQuery(this).val(),geodir_load_search_form(gd_s_post_type,this)})},100)}function geodir_search_wait(e){function t(){if(searchPos)return 1==searchPos?(jQuery('input[type="button"].geodir_submit_search').val("  "),searchPos=2,void window.setTimeout(t,waitTime)):2==searchPos?(jQuery('input[type="button"].geodir_submit_search').val("  "),searchPos=3,void window.setTimeout(t,waitTime)):3==searchPos?(jQuery('input[type="button"].geodir_submit_search').val("  "),searchPos=1,void window.setTimeout(t,waitTime)):void 0}if(waitTime=300,e){if(gdSearchDoing)return;gdSearchDoing=1,jQuery(".geodir_submit_search").addClass("gd-wait-btnsearch").prop("disabled",!0),jQuery(".showFilters").prop("disabled",!0),searchPos=1,gd_search_icon=jQuery(".geodir_submit_search").html(),t(),jQuery("button.geodir_submit_search").html('<i class="fas fa-hourglass fa-spin" aria-hidden="true"></i>')}else searchPos=0,gdSearchDoing=0,jQuery(".geodir_submit_search").removeClass("gd-wait-btnsearch").prop("disabled",!1),jQuery(".showFilters").prop("disabled",!1),gdsText=jQuery('input[type="button"].geodir_submit_search').data("title"),jQuery('input[type="button"].geodir_submit_search').val(gdsText),jQuery("button.geodir_submit_search").html(gd_search_icon)}function geodir_click_search(e){setTimeout(function(){jQuery(e).parent().find(".geodir_submit_search").click()},100)}function gd_fav_save(e){var t;return t=jQuery(".favorite_property_"+e+" a").hasClass("geodir-removetofav-icon")?"remove":"add",jQuery.ajax({url:geodir_params.ajax_url,type:"GET",dataType:"json",data:{action:"geodir_user_add_fav",type_action:t,security:geodir_params.basic_nonce,pid:e},timeout:2e4,error:function(){alert(geodir_params.loading_listing_error_favorite)},success:function(r){r.success?"remove"==t?jQuery(".favorite_property_"+e+" a").removeClass("geodir-removetofav-icon").addClass("geodir-addtofav-icon").attr("title",geodir_params.text_add_fav).html('<i class="'+geodir_params.icon_fav+'"></i> '+geodir_params.text_fav):jQuery(".favorite_property_"+e+" a").removeClass("geodir-addtofav-icon").addClass("geodir-removetofav-icon").attr("title",geodir_params.text_remove_fav).html('<i class="'+geodir_params.icon_unfav+'"></i> '+geodir_params.text_unfav):alert(geodir_params.loading_listing_error_favorite)}}),!1}function geodir_refresh_business_hours(){jQuery(".gd-bh-show-field").each(function(){geodir_refresh_business_hour(jQuery(this))})}function geodir_refresh_business_hour(e){var t,r,i,a,o,n,s,d,u,l,g=!1,c=!1,_=[],m=[];t=new Date,utc=t.getTime()+6e4*t.getTimezoneOffset(),t=new Date(utc+1e3*parseInt(jQuery(".gd-bh-expand-range",e).data("offsetsec"))),date=t.getFullYear()+"-"+("0"+t.getMonth()).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+"T"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2),jQuery(".gd-bh-expand-range",e).attr("data-date",date),i=t.getHours(),o=t.getMinutes(),(a=t.getDay())<1&&(a=7),n=("0"+i).slice(-2)+("0"+o).slice(-2),e.attr("data-t",n),(r=e.find('[data-day="'+parseInt(a)+'"]')).length&&(e.removeClass("gd-bh-open gd-bh-close"),e.find("div").removeClass("gd-bh-open gd-bh-close gd-bh-days-open gd-bh-days-close gd-bh-slot-open gd-bh-slot-close gd-bh-days-today"),r.addClass("gd-bh-days-today"),"1"!=r.data("closed")?r.find(".gd-bh-slot").each(function(){s=!1,d=jQuery(this).data("open"),u=jQuery(this).data("close"),"undefined"!=d&&"undefined"!=u&&""!==d&&""!==u&&parseInt(d)<=n&&n<=parseInt(u)&&(s=!0),s?(g=!0,jQuery(this).addClass("gd-bh-slot-open"),m.push(jQuery(this).find(".gd-bh-slot-r").html())):jQuery(this).addClass("gd-bh-slot-close"),_.push(jQuery(this).find(".gd-bh-slot-r").html())}):c=!0,g?(_=m,r.addClass("gd-bh-days-open")):r.addClass("gd-bh-days-close"),jQuery(".gd-bh-today-range",e).html(_.join(", "))),g?(l=geodir_params.txt_open_now,e.addClass("gd-bh-open")):(l=c?geodir_params.txt_closed_today:geodir_params.txt_closed_now,e.addClass("gd-bh-close")),jQuery(".geodir-i-biz-hours font",e).html(l)}function init_read_more(){var e,t,r,i;jQuery(".geodir-category-list-view  .geodir-field-post_content").each(function(){jQuery(this).addClass("gd-read-more-wrap").wrapInner("<p></p>").append('<p class="gd-read-more"><a href="#" class="gd-read-more-button">'+geodir_params.txt_read_more+"</a></p>")}),jQuery(".gd-read-more-wrap").each(function(){jQuery(this).height()>=parseInt(jQuery(this).css("max-height"),10)&&jQuery(this).find(".gd-read-more").show()}),jQuery(".gd-read-more-wrap .gd-read-more-button").click(function(){return i=0,e=jQuery(this),$p=e.parent(),r=$p.parent(),(t=r.find("p:not('.gd-read-more')")).each(function(){i+=jQuery(this).outerHeight()}),r.css({height:r.height(),"max-height":9999}).animate({height:i}),$p.fadeOut(),!1})}function gd_delete_post(e){var t=geodir_params.my_place_listing_del;return!!confirm(t)&&(jQuery.ajax({url:geodir_params.ajax_url,type:"POST",dataType:"json",data:{action:"geodir_user_delete_post",security:geodir_params.basic_nonce,post_id:e},timeout:2e4,success:function(e){e.success?location.reload():alert(e.data)}}),!0)}function gd_ajax_lightbox(e,t,r,i){if(e)return t&&""!=t||(t=geodir_params.basic_nonce),$content="<div class='geodir-ajax-content ''>Loading content</div>",$lightbox="","geodir_ninja_forms"==e&&(delete form,delete formDisplay,delete nfForms),void($lightbox=lity(geodir_params.ajax_url+"?action="+e+"&security="+t+"&p="+r+"&extra="+i))}function gd_init_comment_reply_link(){jQuery(".geodir-comments-area .comment-reply-link").click(function(e){setTimeout(function(){jQuery("#reply-title").contents().filter(function(){return 3==this.nodeType}).each(function(){this.textContent=this.textContent.replace(geodir_params.txt_leave_a_review,geodir_params.txt_leave_a_reply)}),$html=jQuery("#respond .comment-form-comment").html(),$new_html=$html.replace(geodir_params.txt_review_text,geodir_params.txt_reply_text),jQuery("#respond .comment-form-comment").html($new_html),$html=jQuery("#respond input.submit").val(),$new_html=$html.replace(geodir_params.txt_post_review,geodir_params.txt_post_reply),jQuery("#respond input.submit").val($new_html),jQuery("#respond .gd-rating-input").hide()},10)}),jQuery("#cancel-comment-reply-link").click(function(e){setTimeout(function(){jQuery("#reply-title").contents().filter(function(){return 3==this.nodeType}).each(function(){this.textContent=this.textContent.replace(geodir_params.txt_leave_a_reply,geodir_params.txt_leave_a_review)}),$html=jQuery("#respond .comment-form-comment").html(),$new_html=$html.replace(geodir_params.txt_reply_text,geodir_params.txt_review_text),jQuery("#respond .comment-form-comment").html($new_html),$html=jQuery("#respond input.submit").val(),$new_html=$html.replace(geodir_params.txt_post_reply,geodir_params.txt_post_review),jQuery("#respond input.submit").val($new_html),jQuery("#respond .gd-rating-input").show()},10)})}function geodir_osm_autocomplete_search(){try{"osm"==window.gdMaps&&jQuery('input[name="street"]').length&&($form=jQuery('input[name="street"]').closest("form"),jQuery('input[name="street"]',$form).autocomplete({source:function(e,t){jQuery.ajax({url:("https:"===location.protocol?"https:":"http:")+"//nominatim.openstreetmap.org/search",dataType:"json",data:{q:e.term,format:"json",addressdetails:1,limit:5,"accept-language":geodir_params.mapLanguage},success:function(e,r,i){jQuery('input[name="street"]',$form).removeClass("ui-autocomplete-loading"),t(e)},error:function(e,t,r){console.log(r)},complete:function(e,t){jQuery('input[name="street"]',$form).removeClass("ui-autocomplete-loading")}})},autoFocus:!0,minLength:1,appendTo:jQuery('input[name="street"]',$form).closest(".geodir_form_row"),open:function(e,t){jQuery('input[name="street"]',$form).removeClass("ui-autocomplete-loading")},select:function(e,t){item=gd_osm_parse_item(t.item),e.preventDefault(),jQuery('input[name="street"]',$form).val(item.display_address),geocodeResponseOSM(item,!0)},close:function(e,t){jQuery('input[name="street"]',$form).removeClass("ui-autocomplete-loading")}}).autocomplete("instance")._renderItem=function(e,t){e.hasClass("gd-osm-results")||e.addClass("gd-osm-results");var r=t.display_name;return r&&this.term&&(r=gd_highlight(r,this.term)),jQuery("<li>").width(jQuery('input[name="street"]',$form).outerWidth()).append('<i class="fas fa-map-marker-alt" aria-hidden="true"></i><span>'+r+"</span>").appendTo(e)})}catch(e){console.log(e.message)}}function geodir_ajax_load_slider(e){(real_srcset=jQuery(e).find("img").attr("data-srcset"))&&jQuery(e).find("img").attr("srcset",real_srcset),(real_src=jQuery(e).find("img").attr("data-src"))&&jQuery(e).find("img").attr("src",real_src)}function geodir_init_slider(e){jQuery(".geodir-slides").addClass("flexslider-fix-rtl"),jQuery("#"+e+"_carousel").flexslider({animation:"slide",namespace:"geodir-",selector:".geodir-slides > li",controlNav:!1,directionNav:!1,animationLoop:!1,slideshow:!1,itemWidth:75,itemMargin:5,asNavFor:"#"+e,rtl:1==parseInt(geodir_params.is_rtl)}),jQuery("#"+e).flexslider({animation:"fade"==jQuery("#"+e).attr("data-animation")?"fade":"slide",selector:".geodir-slides > li",namespace:"geodir-",controlNav:parseInt(jQuery("#"+e).attr("data-controlnav")),directionNav:1,prevText:'<i class="fas fa-angle-right"></i>',nextText:'<i class="fas fa-angle-right"></i>',animationLoop:!0,slideshow:parseInt(jQuery("#"+e).attr("data-slideshow")),sync:"#"+e+"_carousel",start:function(t){jQuery(".geodir-slides").removeClass("flexslider-fix-rtl"),jQuery("#"+e).removeClass("geodir-slider-loading"),jQuery(".geodir_flex-loader").hide(),jQuery("#"+e).css({visibility:"visible"}),jQuery("#"+e+"_carousel").css({visibility:"visible"}),next=t.slides.eq(t.currentSlide+1),(real_srcset=jQuery(next).find("img").attr("data-srcset"))&&jQuery(next).find("img").attr("srcset",real_srcset),(real_src=jQuery(next).find("img").attr("data-src"))&&jQuery(next).find("img").attr("src",real_src)},before:function(e){animatingTo=e.slides.eq(e.animatingTo),next_next=e.slides.eq(e.currentSlide+2),geodir_ajax_load_slider(next_next),geodir_ajax_load_slider(animatingTo)},rtl:1==parseInt(geodir_params.is_rtl)})}function gd_init_rating_input(){jQuery(".gd-rating-input").each(function(){$total=jQuery(this).find(".gd-rating-foreground > svg, .gd-rating-foreground > img").length,$parent=this,console.log($total),$value=jQuery(this).closest(".gd-rating-input").find("input").val(),$value>0&&(jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground").width($value/$total*100+"%"),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text(jQuery(this).closest(".gd-rating-input").find("svg, img:eq("+($value-1)+")").attr("title"))),jQuery(this).find("svg, img").each(function(e){$original_rating=jQuery(this).closest(".gd-rating-input").find("input").val(),$total=jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground > svg, .gd-rating-foreground > svg").length,$original_percent=$original_rating/$total*100,$rating_set=!1,jQuery(this).hover(function(){$percent=0,$rating=e+1,$rating_text=jQuery(this).attr("title"),$original_rating_text=jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text(),$total=jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground > svg, .gd-rating-foreground > img").length,$rating>$total&&($rating-=$total),$percent=$rating/$total*100,jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground").width($percent+"%"),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text($rating_text)},function(){$rating_set?$rating_set=!1:(jQuery(this).closest(".gd-rating-input").find(".gd-rating-foreground").width($original_percent+"%"),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text($original_rating_text))}),jQuery(this).click(function(){$original_percent=$percent,$original_rating=$rating,jQuery(this).closest(".gd-rating-input").find("input").val($rating),jQuery(this).closest(".gd-rating-input").find(".gd-rating-text").text($rating_text),$rating_set=!0})})})}function geodir_animate_markers(){if("function"==typeof animate_marker){jQuery("ul.geodir-category-list-view").children("li").hover(function(){animate_marker("listing_map_canvas",String(jQuery(this).data("post-id")))},function(){stop_marker_animation("listing_map_canvas",String(jQuery(this).data("post-id")))})}else window.animate_marker=function(){},window.stop_marker_animation=function(){}}function geodir_is_localstorage(){var e="geodirectory";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function geodir_cancelBubble(e){var t=e||window.event;t.stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0)}function gd_get_user_position(e,t){window.gd_user_position_success_callback=e,window.gd_user_position_fail_callback=t,navigator.geolocation?navigator.geolocation.getCurrentPosition(gd_user_position_success,gd_user_position_fail):gd_user_position_fail(-1)}function gd_user_position_success(e){var t=e.coords||e.coordinate||e;if(t&&t.latitude&&t.longitude){var r=window.gd_user_position_success_callback;"function"==typeof r&&r(t.latitude,t.longitude)}}function gd_user_position_fail(e){var t;switch(e.code){case e.UNKNOWN_ERROR:t=geodir_params.geoErrUNKNOWN_ERROR;break;case e.PERMISSION_DENINED:t=geodir_params.geoErrPERMISSION_DENINED;break;case e.POSITION_UNAVAILABLE:t=geodir_params.geoErrPOSITION_UNAVAILABLE;break;case e.BREAK:t=geodir_params.geoErrBREAK;break;default:t=geodir_params.geoErrDEFAULT}window.gd_user_position_success?$success=window.gd_user_position_success_callback:$success="",gd_manually_set_user_position(t,$success)}function gd_manually_set_user_position(e){if(window.confirm("ERROR: "+e+"\nWould you like to manually set your location?")){var t="geodir_manual_location_";jQuery.post(geodir_params.ajax_url,{action:"geodir_manual_map",trigger:t+"_trigger"},function(e){if(e)return $lity=lity("<div class='lity-show'>"+e+"</div>"),setTimeout(function(){jQuery(".lity-show .geodir_map_container").css("width","90%").css("width","99.99999%")},500),jQuery(window).off(t+"_trigger"),jQuery(window).on(t+"_trigger",function(e,t,r){if(t&&r){var i={};i.latitude=t,i.longitude=r;var a=window.gd_user_position_success_callback;"function"==typeof a&&a(t,r),$lity.close()}}),!1})}else if(window.gd_user_position_fail_callback){var r=window.gd_user_position_fail_callback;"function"==typeof r&&r()}}var gdUrlParam=function(e){var t,r,i=decodeURIComponent(window.location.search.substring(1)).split("&");for(r=0;r<i.length;r++)if((t=i[r].split("="))[0]===e)return void 0===t[1]||t[1]};jQuery.fn.gdunveil=function(e,t,r){function i(){var e=d.filter(function(){var e=jQuery(this);if(!e.is(":hidden")){var t=a.scrollTop(),r=t+a.height(),i=e.offset().top;return i+e.height()>=t-o&&i<=r+o}});u=e.trigger("gdunveil"),d=d.not(u)}var a=jQuery(window),o=e||0,n=window.devicePixelRatio>1,s=n?"data-src-retina":"data-src",d=this;if(r)var u,l=jQuery(r),o=e||0,s=(n=window.devicePixelRatio>1)?"data-src-retina":"data-src",d=this;return this.one("gdunveil",function(){var e=this.getAttribute(s);(e=e||this.getAttribute("data-src"))&&(this.setAttribute("src",e),jQuery(this).removeClass("geodir-lazy-load"),"function"==typeof t&&t.call(this))}),a.on("scroll.gdunveil resize.gdunveil lookup.gdunveil",i),r&&l.on("scroll.gdunveil resize.gdunveil lookup.gdunveil",i),i(),this},jQuery(function(e){geodir_init_lazy_load(),e(document).on("click",".gd-bh-show-field .gd-bh-expand-range",function(t){var r=e(this).closest(".geodir_post_meta"),i=r.find(".gd-bh-open-hours");i.is(":visible")?(i.slideUp(100),r.removeClass("gd-bh-expanded").addClass("gd-bh-toggled")):(i.slideDown(100),r.removeClass("gd-bh-toggled").addClass("gd-bh-expanded"))}),e(".gd-bh-show-field").length&&(setInterval(function(e){geodir_refresh_business_hours()},6e4),geodir_refresh_business_hours()),e("body").bind("geodir_map_infowindow_open",function(t,r){r.content&&e(r.content).find(".gd-bh-show-field").length&&geodir_refresh_business_hours(),geodir_fix_marker_pos(r.canvas)}),e(".gd-badge-meta .gd-badge").each(function(){var t=e(this).data("badge");t&&e(this).closest(".post-"+e(this).data("id")).length&&(t="geodir-badge-"+t,e(this).closest(".post-"+e(this).data("id")).removeClass(t).addClass(t))}),gd_init_comment_reply_link(),geodir_animate_markers(),e('.geodir-sort-by[name="sort_by"], #geodir_my_favourites[name="geodir_my_favourites"], #geodir_my_listings[name="geodir_my_listings"], #geodir_add_listing[name="geodir_add_listing"]').on("change",function(t){e(this).val()&&(window.location=e(this).val())})}),function(e){"use strict";e.Placeholders={Utils:{addEventListener:function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):void 0},inArray:function(e,t){var r,i;for(r=0,i=e.length;i>r;r++)if(e[r]===t)return!0;return!1},moveCaret:function(e,t){var r;e.createTextRange?((r=e.createTextRange()).move("character",t),r.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))},changeType:function(e,t){try{return e.type=t,!0}catch(e){return!1}}}}}(this),function(e){"use strict";function t(){}function r(){try{return document.activeElement}catch(e){}}function i(e,t){var r,i,a=!!t&&e.value!==t,o=e.value===e.getAttribute(k);return!(!a&&!o||"true"!==e.getAttribute(C))&&(e.removeAttribute(C),e.value=e.value.replace(e.getAttribute(k),""),e.className=e.className.replace(x,""),i=e.getAttribute(E),parseInt(i,10)>=0&&(e.setAttribute("maxLength",i),e.removeAttribute(E)),(r=e.getAttribute($))&&(e.type=r),!0)}function a(e){var t=e.getAttribute(k);return!(""!==e.value||!t)&&(e.setAttribute(C,"true"),e.value=t,e.className+=" "+w,e.getAttribute(E)||(e.setAttribute(E,e.maxLength),e.removeAttribute("maxLength")),e.getAttribute($)?e.type="text":"password"===e.type&&R.changeType(e,"text")&&e.setAttribute($,"password"),!0)}function o(e,t){var r,i,a,o,n,s,l;if(e&&e.getAttribute(k))t(e);else for(a=e?e.getElementsByTagName("input"):d,o=e?e.getElementsByTagName("textarea"):u,r=a?a.length:0,i=o?o.length:0,l=0,s=r+i;s>l;l++)n=r>l?a[l]:o[l-r],t(n)}function n(e){o(e,i)}function s(e){e.form&&("string"==typeof(f=e.form)&&(f=document.getElementById(f)),f.getAttribute(T)||(R.addEventListener(f,"submit",function(e){return function(){n(e)}}(f)),f.setAttribute(T,"true"))),R.addEventListener(e,"focus",function(e){return function(){l&&e.value===e.getAttribute(k)&&"true"===e.getAttribute(C)?R.moveCaret(e,0):i(e)}}(e)),R.addEventListener(e,"blur",function(e){return function(){a(e)}}(e)),l&&(R.addEventListener(e,"keydown",function(e){return function(t){return c=e.value,"true"===e.getAttribute(C)&&c===e.getAttribute(k)&&R.inArray(b,t.keyCode)?(t.preventDefault&&t.preventDefault(),!1):void 0}}(e)),R.addEventListener(e,"keyup",function(e){return function(){i(e,c),""===e.value&&(e.blur(),R.moveCaret(e,0))}}(e)),R.addEventListener(e,"click",function(e){return function(){e===r()&&e.value===e.getAttribute(k)&&"true"===e.getAttribute(C)&&R.moveCaret(e,0)}}(e))),e.setAttribute(A,"true"),e.setAttribute(k,p),(l||e!==r())&&a(e)}var d,u,l,g,c,_,m,p,h,f,y,v,j,Q=["text","search","url","tel","email","password","number","textarea"],b=[27,33,34,35,36,37,38,39,40,8,46],w="placeholdersjs",x=RegExp("(?:^|\\s)"+w+"(?!\\S)"),k="data-placeholder-value",C="data-placeholder-active",$="data-placeholder-type",T="data-placeholder-submit",A="data-placeholder-bound",E="data-placeholder-maxlength",I=document.createElement("input"),N=document.getElementsByTagName("head")[0],S=document.documentElement,L=e.Placeholders,R=L.Utils;if(L.nativeSupport=void 0!==I.placeholder,!L.nativeSupport){for(d=document.getElementsByTagName("input"),u=document.getElementsByTagName("textarea"),l="false"===S.getAttribute("data-placeholder-focus"),g="false"!==S.getAttribute("data-placeholder-live"),(_=document.createElement("style")).type="text/css",m=document.createTextNode("."+w+" { color:#ccc; }"),_.styleSheet?_.styleSheet.cssText=m.nodeValue:_.appendChild(m),N.insertBefore(_,N.firstChild),j=0,v=d.length+u.length;v>j;j++)y=d.length>j?d[j]:u[j-d.length],(p=y.attributes.placeholder)&&(p=p.nodeValue)&&R.inArray(Q,y.type)&&s(y);h=setInterval(function(){for(j=0,v=d.length+u.length;v>j;j++)y=d.length>j?d[j]:u[j-d.length],(p=y.attributes.placeholder)?(p=p.nodeValue)&&R.inArray(Q,y.type)&&(y.getAttribute(A)||s(y),(p!==y.getAttribute(k)||"password"===y.type&&!y.getAttribute($))&&("password"===y.type&&!y.getAttribute($)&&R.changeType(y,"text")&&y.setAttribute($,"password"),y.value===y.getAttribute(k)&&(y.value=p),y.setAttribute(k,p))):y.getAttribute(C)&&(i(y),y.removeAttribute(k));g||clearInterval(h)},100)}R.addEventListener(e,"beforeunload",function(){L.disable()}),L.disable=L.nativeSupport?t:n,L.enable=L.nativeSupport?t:function(e){o(e,a)}}(this),jQuery(document).ready(function(e){init_read_more(),jQuery(".geodir-slider").each(function(e,t){geodir_init_slider(t.id)}),jQuery("#geodir-tab-mobile-menu").click(function(){jQuery("#gd-tabs .geodir-tab-head").toggle()}),gd_infowindow="undefined"!=typeof google&&void 0!==google.maps?new google.maps.InfoWindow:null,jQuery("select.chosen_select").length>0&&(jQuery("select.chosen_select").chosen({no_results_text:"Sorry, nothing found!"}),jQuery("select.chosen_select_nostd").chosen({allow_single_deselect:"true"})),jQuery('.gd-cats-display-checkbox input[type="checkbox"]').click(function(){var e=jQuery(this).is(":checked");if(!e){var t=jQuery(this).val();jQuery(this).closest(".gd-parent-cats-list").find(".gd-cat-row-"+t+' input[type="checkbox"]').prop("checked",e)}}),jQuery(".geodir-delete").click(function(){var e=geodir_params.my_place_listing_del;return(jQuery(this).closest(".geodir-gridview").hasClass("gdp-franchise-m")||jQuery(this).closest(".geodir-listview").hasClass("gdp-franchise-m"))&&(e=geodir_params.my_main_listing_del),!!confirm(e)}),jQuery(".gd-category-dd").hover(function(){jQuery(".gd-category-dd ul").show()}),jQuery(".gd-category-dd ul li a").click(function(e){jQuery(".gd-category-dd").find("input").val(jQuery(this).attr("data-slug")),jQuery(".gd-category-dd > a").html(jQuery(this).attr("data-name")),jQuery(".gd-category-dd ul").hide()}),geodir_setup_search_form(),setTimeout(function(){gd_init_rating_input()},100)}),jQuery(window).load(function(){function activateTab(tab){if(jQuery(".geodir-tab-head").length)if(tabName=urlHash=tab.find("a").html(),tabName&&jQuery(".geodir-mobile-active-tab").length&&jQuery(".geodir-mobile-active-tab").html(tabName),tabNoRun)tabNoRun=!1;else{var activeTab=tab.closest("dl").find("dd.geodir-tab-active"),contentLocation=tab.find("a").attr("data-tab")+"Tab";urlHash=tab.find("a").attr("data-tab"),jQuery(tab).hasClass("geodir-tab-active")||("undefined"==typeof urlHash?"#comment"==window.location.hash.substring(0,8)&&(tab=jQuery('*[data-tab="#reviews"]').parent(),tabNoRun=!0):history.pushState?history.replaceState(null,null,urlHash):window.location.hash=urlHash),activeTab.removeClass("geodir-tab-active"),tab.addClass("geodir-tab-active"),jQuery(contentLocation).closest(".geodir-tabs-content").children("li").hide(),jQuery(contentLocation).fadeIn(),jQuery(contentLocation).css({display:"block"}),"#post_map"==urlHash&&window.gdMaps&&window.setTimeout(function(){var map_canvas=jQuery(".geodir-map-canvas",jQuery("#post_mapTab")).data("map-canvas"),options=map_canvas?eval(map_canvas):{};jQuery("#"+map_canvas).goMap(options);var center=jQuery.goMap.map.getCenter();"osm"==window.gdMaps?(jQuery.goMap.map.invalidateSize(),jQuery.goMap.map._onResize(),jQuery.goMap.map.panTo(center)):(google.maps.event.trigger(jQuery.goMap.map,"resize"),jQuery.goMap.map.setCenter(center))},100),history.pushState&&window.location.hash&&0===jQuery("#publish_listing").length&&jQuery(window).width()<1060&&(jQuery("#gd-tabs .geodir-tab-head").toggle(),jQuery("html, body").animate({scrollTop:jQuery("#geodir-tab-mobile-menu").offset().top},500))}}jQuery(".geodir-tabs-content").show(),tabNoRun=!1,jQuery("dl.geodir-tab-head").each(function(){jQuery(this).children("dd").click(function(e){"enable"==jQuery(this).find("a").attr("data-status")&&activateTab(jQuery(this))})}),window.location.hash&&activateTab(jQuery('a[data-tab="'+window.location.hash+'"]').parent()),jQuery(".gd-tabs .gd-tab-next").click(function(e){var t=jQuery("dl.geodir-tab-head").find("dd.geodir-tab-active").next();"enable"==t.find("a").attr("data-status")&&activateTab(t),jQuery("dl.geodir-tab-head").find("dd.geodir-tab-active").next().is("dd")||(jQuery(this).hide(),jQuery("#gd-add-listing-submit").show())}),jQuery("#gd-login-options input").change(function(){jQuery(".gd-login_submit").toggle()}),jQuery("ul.geodir-tabs-content").css({"z-index":"0",position:"relative"}),jQuery("dl.geodir-tab-head dd.geodir-tab-active").trigger("click")}),jQuery(document).ready(function(){function e(e,t){jQuery(e).animate({"margin-right":t+"px"},"fast")}jQuery("input[type=text]").keyup(function(){var e=jQuery(this);if("autofill"==e.attr("data-type")&&""!=e.attr("data-fill")){var t=e.attr("data-fill"),r=jQuery(this).val();jQuery.get(geodir_params.ajax_url,{autofill:t,fill_str:r},function(t){""!=t&&(0==e.closest("div.gd-autofill").length&&e.wrap('<div class="gd-autofill"></div>'),e.closest("div.gd-autofill").find(".gd-autofill-dl").remove(),e.after('<div class="gd-autofill-dl"></div>'),e.next(".gd-autofill-dl").html(t),e.focus())})}}),jQuery("input[type=text]").parent().mouseleave(function(){jQuery(this).find(".gd-autofill-dl").remove()}),jQuery(".gd-trigger").click(function(){jQuery(this).toggleClass("active").next().slideToggle("slow");var t=!!jQuery(this).toggleClass("active").next().hasClass("map_category");jQuery(".gd-trigger").hasClass("gd-triggeroff")?(jQuery(".gd-trigger").removeClass("gd-triggeroff"),jQuery(".gd-trigger").addClass("gd-triggeron"),t&&e(this,0)):(jQuery(".gd-trigger").removeClass("gd-triggeron"),jQuery(".gd-trigger").addClass("gd-triggeroff"),t&&e(this,parseFloat(jQuery(this).toggleClass("active").next().outerWidth())))}),jQuery(".gd-trigger").each(function(){jQuery(this).hasClass("gd-triggeroff")&&jQuery(this).next().hasClass("map_category")&&e(this,parseFloat(jQuery(this).next().outerWidth()))}),jQuery(".trigger_sticky").click(function(){var e=jQuery(this);e.hide(),jQuery("div.stickymap").toggle("slide",{direction:"right"},500,function(){e.show()}),e.hasClass("triggeroff_sticky")?(e.removeClass("triggeroff_sticky"),e.addClass("triggeron_sticky"),setCookie("geodir_stickystatus","shide",1)):(e.removeClass("triggeron_sticky"),e.addClass("triggeroff_sticky"),setCookie("geodir_stickystatus","sshow",1))});void 0===geodir_params.gd_modal||parseInt(geodir_params.gd_modal);jQuery(".gd_comment_replaylink a").bind("click",function(){jQuery("#commentform #err_no_rating").remove(),jQuery("#commentform .gd_rating").hide(),jQuery("#commentform .br-wrapper.br-theme-fontawesome-stars").hide(),jQuery("#commentform #geodir_overallrating").val("0"),jQuery("#respond .form-submit input#submit").val(geodir_params.gd_cmt_btn_post_reply),jQuery("#respond .comment-form-comment label").html(geodir_params.gd_cmt_btn_reply_text)}),jQuery(".gd-cancel-replaylink a").bind("click",function(){jQuery("#commentform #err_no_rating").remove(),jQuery("#commentform .gd_rating").show(),jQuery("#commentform .br-wrapper.br-theme-fontawesome-stars").show(),jQuery("#commentform #geodir_overallrating").val("0"),jQuery("#respond .form-submit input#submit").val(geodir_params.gd_cmt_btn_post_review),jQuery("#respond .comment-form-comment label").html(geodir_params.gd_cmt_btn_review_text)}),jQuery("#commentform .gd_rating, #commentform .gd-fa-rating").each(function(){var e=this,t=jQuery(e).closest("#commentform");parseInt(t.find("#comment_parent").val())>0&&(jQuery("#commentform #err_no_rating").remove(),jQuery("#commentform .gd_rating").hide(),jQuery("#respond .form-submit input#submit").val(geodir_params.gd_cmt_btn_post_reply),jQuery("#respond .comment-form-comment label").html(geodir_params.gd_cmt_btn_reply_text)),geodir_params.multirating||t.find('input[name="submit"]').click(function(r){if(t.find("#err_no_rating").remove(),void 0!==geodir_params.gd_cmt_disable_rating&&geodir_params.gd_cmt_disable_rating)return!0;var i=parseInt(t.find("#comment_parent").val());if(i=0==i){var a=0;return t.find("input[name^=geodir_overallrating]").each(function(){!parseInt(jQuery(this).val())>0&&a++}),!(a>0)||(jQuery(e).after('<div id="err_no_rating" class="err-no-rating">'+geodir_params.gd_cmt_err_no_rating+"</div>"),!1)}})})}),jQuery(window).load(function(){0==jQuery(".map_background").length?jQuery(".geodir-pinpoint").hide():jQuery(".geodir-pinpoint").show()}),jQuery(window).load(function(){geodir_resize_rating_stars(),jQuery(document).on("click",".geodir-rating,.gd-star-rating",function(e){(reviewLink=jQuery(this).closest(".geodir-category-listing").find("a.geodir-pcomments").attr("href"))?window.location=reviewLink:(reviewLink=jQuery(this).closest(".gd-bubble").find("a.geodir-pcomments").attr("href"))&&(window.location=reviewLink)}),jQuery(".geodir-details-sidebar-rating").on("click",".geodir-rating,.gd-star-rating",function(e){jQuery('#gd-tabs [data-tab="#reviews"]').trigger("click"),jQuery("html, body").animate({scrollTop:jQuery("#reviews-wrap").offset().top},500)})}),jQuery(window).resize(function(){geodir_resize_rating_stars(!0)}),gdSearchDoing=0;var gdNearChanged=0;gd_search_icon="",function(e){e.fn.GDswitchClass=function(t,r){var i={"transition-property":"all","transition-duration":"0.6s","transition-timing-function":"ease-out"};return this.each(function(){e(this).css(i).removeClass(t).addClass(r)})}}(jQuery),jQuery(function(e){"osm"==window.gdMaps&&e('input[name="street"]').length&&geodir_osm_autocomplete_search()});